{{define "title"}}{{  T("torrent_edit_panel") }}{{end}}
{{define "content"}}
<div class="results box">
<h3 id="torrents">{{  T("torrent_edit_panel") }}</h3>
  {{with .Form}}
  <form style="text-align:left;padding-left:10px;padding-right:10px;" enctype="multipart/form-data" role="upload" method="POST">
        {{ block "csrf_field" $ }}{{end}}
		{{ range (index $.FormInfos "infos")}}
			<p class="success-text">{{ . }}</p>
		{{end}}
		{{ range (index $.FormErrors "errors")}}
			<p class="error-text">{{ . }}</p>
		{{end}}
      <div class="form-group">
      <label for="name">{{ T("name")}}</label>
          <input type="text" name="name" class="form-input up-input" placeholder="{{ T("file_name")}}" value="{{.Name}}" required>
      </div>
      <div class="form-group">
          <label for="c">{{ T("category")}}</label>
          <select name="c" class="form-input up-input">
              <option value="">{{ T("select_a_torrent_category")}}</option>
              {{ range $name_cat, $id_cat := (GetCategories false true) }}
              <option value="{{ $id_cat }}" {{if eq $.Form.Category $id_cat }}selected{{end}}>{{call $.T $name_cat }}</option>
              {{ end }}
          </select>
      </div>
      <div class="form-group">
          <label for="language">{{  T("torrent_language") }}</label>
          <select name="language" id="language" class="form-input up-input" required>
			<option value="">{{ T("select_a_torrent_language")}}</option>
            <option value="other" {{if eq $.Form.Language "other"}}selected{{end}}>{{ T("language_other_name")}}</option>
			<option value="multiple" {{if eq $.Form.Language "multiple"}}selected{{end}}>{{ T("language_multiple_name")}}</option>
			{{ range $_, $language := (GetTorrentLanguages) }}
			<option value="{{ $language }}" {{if eq $.Form.Language $language}}selected{{end}}>
				{{LanguageName $language $.T}}
			</option>
			{{ end }}
		  </select>
      </div>
      <div class="form-group">
          <label for="Status">{{ T("torrent_status")}}</label>
          <select name="status" class="form-input up-input">
              <option value="5" {{if eq .Status 5}}selected{{end}}>{{  T("torrent_status_blocked") }}</option>
              <option value="1" {{if eq .Status 1}}selected{{end}}>{{ T("torrent_status_normal")}}</option>
              <option value="2" {{if eq .Status 2}}selected{{end}}>{{ T("torrent_status_remake")}}</option>
              <option value="3" {{if eq .Status 3}}selected{{end}}>{{ T("trusted")}}</option>
              <option value="4" {{if eq .Status 4}}selected{{end}}>A+</option>
      	 </select>
      </div>
		{{ if $.User }}
		<p>
			<input type="checkbox" name="hidden" id="hidden" {{ if .Hidden }}checked{{end}}>
			<label for="hidden">{{ T("mark_as_hidden")}}</label>
		</p>
		{{ end }}
      <div class="form-group">
          <label for="website_link">{{ T("website_link")}}</label>
          <input name="website_link" id="website_link" class="form-input up-input" type="text" value="{{.WebsiteLink}}">
      </div>
      <div class="form-group">
          <label for="desc">{{ T("torrent_description")}}</label>
          <p class="help-block">{{ T("description_markdown_notice")}}</p>
          <textarea name="desc" class="form-input up-input" rows="10">{{.Description}}</textarea>
      </div>
      <button type="submit" class="form-input up-input btn-green">{{ T("save_changes")}}</button>
  </form>
</div>
{{end}}
{{end}}
